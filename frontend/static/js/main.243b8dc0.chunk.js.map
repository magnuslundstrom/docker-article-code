{"version":3,"sources":["store/actions/auth/login.js","helpers/getFormData.js","store/actions/profile/editProfile.js","store/reducers/authReducer.js","store/actions/tweets/fetchHomeTweets.js","store/actions/tweets/postTweet.js","store/actions/tweets/likeTweet.js","store/actions/tweets/commentTweet.js","store/actions/tweets/deleteTweet.js","store/reducers/homeTweetsReducer.js","store/actions/profile/fetchProfile.js","store/actions/profile/followUser.js","store/actions/profile/clearProfile.js","store/reducers/profileReducer.js","store/actions/chat/fetchChatList.js","store/actions/chat/selectChat.js","store/actions/chat/pushChat.js","store/actions/chat/clearChatList.js","store/reducers/chatListReducer.js","store/actions/chat/fetchChatRoom.js","store/actions/chat/clearChatRoom.js","store/actions/chat/sendMessage.js","store/actions/chat/appendUser.js","store/actions/chat/createConversation.js","store/actions/chat/searchMessage.js","store/actions/chat/pushMessage.js","store/reducers/chatReducer.js","store/actions/search/fetchRecentSearches.js","store/actions/search/fetchUserSearch.js","store/actions/search/addRecentSearch.js","store/reducers/searchReducer.js","store/actions/fetchFollowSuggestions.js","store/reducers/followSuggestionsReducer.js","store/actions/tweets/fetchTweet.js","store/actions/tweets/deleteComment.js","store/reducers/statusReducer.js","store/reducers/rootReducer.js","components/utils/ErrorMessage.jsx","helpers/capitalize.js","components/utils/InputLabel.jsx","components/hooks/useForm.js","components/signupFlow/Success.jsx","components/signupFlow/SignUpFlow.jsx","helpers/validateEmail.js","components/global/IndexFooter.jsx","pages/Index.jsx","components/utils/ProfileImage.jsx","components/global/Nav.jsx","components/CommentFormModal.jsx","components/Tweet.jsx","components/TweetWrap.jsx","components/TweetList.jsx","helpers/stringCutter.js","components/global/FollowBox.jsx","components/global/FollowSuggestions.jsx","components/global/search/SearchBox.jsx","components/global/search/SearchBar.jsx","components/global/withObserverListRedux.jsx","pages/Home.jsx","components/EditProfileModal.jsx","components/global/BackButton.jsx","pages/Profile.jsx","components/chat/Userbox.jsx","components/chat/urlHelper.js","components/chat/ChatList.jsx","components/chat/Message.jsx","components/chat/MessagesList.jsx","components/hooks/usePrevious.js","components/chat/ChatSearch.jsx","components/chat/Chat.jsx","pages/Messages.jsx","components/Comment.jsx","pages/Status.jsx","helpers/notEmptyObjChecker.js","components/followers/UserBox.jsx","components/followers/FollowList.jsx","components/global/withObserverListApi.jsx","pages/Followers.jsx","pages/Notifications.jsx","components/global/Auth.jsx","App.js","index.js"],"names":["LOGIN_TYPE","loginA","userData","dispatch","a","type","payload","LOGOUT_TYPE","getFormData","formState","formData","FormData","key","append","EDIT_PROFILE_TYPE","initState","authorized","user","authReducer","state","action","newState","fullName","firstName","lastName","email","FETCH_HOME_TWEETS_TYPE","fetchHomeTweetsA","getState","skip","homeTweets","fetch","response","ok","console","text","log","json","tweets","POST_TWEET_TYPE","postTweetA","body","method","id","user_id","auth","tweet_id","createdAt","Date","likedStatus","name","numLikes","numComments","LIKE_TWEET_TYPE","COMMENT_TWEET_TYPE","DELETE_TWEET_TYPE","bottom","homeTweetsReducer","length","tweetIdx","findIndex","tweet","tweetId","currentStatus","find","idx","splice","FETCH_PROFILE_DATA_TYPE","FETCH_PROFILE_TWEETS_TYPE","FOLLOW_USER_TYPE","followUserA","userId","CLEAR_PROFILE_TYPE","details","profileReducer","hasOwnProperty","curStatus","followStatus","description","newTweets","tweetCount","FETCH_CHAT_LIST_TYPE","SELECT_CHAT_TYPE","selectChatA","convId","PUSH_CHAT_TYPE","CLEAR_CHAT_LIST_TYPE","loading","selectedConvId","chatList","chatListReducer","FETCH_CHAT_ROOM_TYPE","FETCH_CHAT_MESSAGES_ONLY_TYPE","CLEAR_CHAT_ROOM_TYPE","SEND_MESSAGE_TYPE","APPEND_USER_TYPE","CREATE_CONVERSATION_TYPE","SEARCH_MESSAGE_TYPE","PUSH_MESSAGE_TYPE","validated","messages","users","chatReducer","reverse","conversationId","push","concat","FETCH_RECENT_SEARCHES_TYPE","FETCH_USER_SEARCH_TYPE","USER_SEARCH_TERM_TYPE","userSearchHandler","val","ADD_RECENT_SEARCH_TYPE","searchReducer","recent","current","searchTerm","termObj","search_term","unshift","pop","FETCH_FOLLOW_SUGGESTIONS_TYPE","followSuggestionReducer","FETCH_TWEET_TYPE","DELETE_COMMENT_TYPE","statusReducer","comments","comment","comment_id","combineReducers","profile","chatRoom","followSuggestions","followSuggestionsReducer","searches","status","ErrorMessage","error","className","capitalize","charAt","toUpperCase","toLowerCase","slice","InputLabel","onChangeHandler","password","htmlFor","onChange","e","autoComplete","useForm","useState","setFormState","target","value","errorObj","errors","Success","style","textAlign","marginBottom","src","alt","general","SignUpFlow","setDisplay","setErrors","page","setPageHandler","onSubmitHandler","preventDefault","res","data","setTimeout","onClick","stopPropagation","onSubmit","disabled","test","String","marginTop","IndexFooter","connect","formRef","useRef","displayFlow","setDisplayFlow","ref","ProfileImage","classNames","objectFit","onError","logoutA","to","fontSize","commentTweetA","commentData","commentBody","commenter_id","tweet_user_id","setComment","ReactDOM","createPortal","width","dayjs","format","placeholder","document","getElementById","loggedInUser","likeTweetA","deleteTweetA","liked","setLiked","number","setNumber","displayComment","setDisplayComment","data-tweetid","data-userid","display","color","marginLeft","justifySelf","parseInt","TweetWrap","props","history","useHistory","link","HTMLAnchorElement","HTMLButtonElement","parentNode","onClickHandler","cursor","TweetsList","tweetState","setTweetState","renderTweets","map","useEffect","stringCutter","str","len","dots","Error","newStr","FollowModal","displayHandler","image","displayModal","setDisplayModal","followMessage","height","marginRight","fetchFollowSuggestionsA","followBoxes","index","fetchRecentSearchesA","addRecentSearchA","search","handleDropDown","getAttribute","querySelector","contains","addEventListener","removeEventListener","arrToMap","renderSearches","linkClickHandler","data-click","fetchUserSearchA","displayBox","setDisplayBox","cancelSearch","clearTimeout","FollowList","listBottom","React","createRef","borderRight","this","children","padding","Component","homeSkip","homeBottom","inputState","setInputState","bottomRef","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","onScrollHandler","rootMargin","observe","unobserve","s","gridTemplateColumns","TweetList","editProfileA","newDataObj","profileResponse","split","setState","rows","BackButton","goBack","loggedInUserId","fetchProfileDataA","fetchProfileTweetsA","tweetsResponse","clearProfileA","useParams","displayEdit","setDisplayEdit","onUploadProfileImage","files","go","followingCount","followerCount","coverImage","pathname","userName","cb","bind","renderContent","chat","conversation_id","message_sent","memberString","join","cUrl","loggedUserId","usersArr","createUrl","fetchChatListA","chats","clearChatListA","renderChatList","Message","message","message_id","created_at","self","listRef","scrollIntoView","behavior","usePrevious","init","messageList","searchMessagesA","term","fetchChatMessagesOnlyA","setSearch","prevSearch","searchTimeout","fetchChatRoomA","conversation","clearChatRoomA","sendMessageA","msg","messageObj","createConversationA","pushMessageA","newChatName","chatRoomRef","setBody","params","ws","WebSocket","onopen","ev","event","JSON","parse","close","readyState","OPEN","send","stringify","Messages","match","location","newChatUserId","appendUserA","deleteCommentA","commentId","fetchTweetA","obj","Object","keys","UserBox","item","follow_status","setStatus","onFollowHandler","form","renderUsers","list","api","then","render","setUserName","followRelation","urlParams","setUrlParams","Auth","loaded","path","exact","component","Home","Profile","Status","Followers","Notifications","Index","store","createStore","rootReducer","compose","applyMiddleware","thunk","window","devToolsExtension","__REDUX_DEVTOOLS_EXTENSION__","f"],"mappings":"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","file":"static/js/main.243b8dc0.chunk.js","sourcesContent":["export const LOGIN_TYPE = 'LOGIN_ACTION';\nexport const loginA = (userData) => async (dispatch) => {\n  dispatch({\n    type: LOGIN_TYPE,\n    payload: userData,\n  });\n};\n\n/*\n    Components that make use of loginA:\n    ---------\n    Index.jsx onSubmitHandler\n*/\n\nexport const LOGOUT_TYPE = 'LOGOUT';\nexport const logoutA = () => async (dispatch) => {\n  const res = await fetch('/api/logout.php');\n  if (!res.ok) return;\n  dispatch({\n    type: LOGOUT_TYPE,\n  });\n};\n","export const getFormData = (formState) => {\n  const formData = new FormData();\n  for (let key in formState) {\n    if (typeof formState[key] === 'object') continue;\n    formData.append(key, formState[key]);\n  }\n  return formData;\n};\n","import { getFormData } from '../../../helpers/getFormData';\n\nexport const EDIT_PROFILE_TYPE = 'EDIT_PROFILE';\nexport const editProfileA = (newDataObj) => async (dispatch) => {\n  console.log(newDataObj);\n  const formData = getFormData(newDataObj);\n  const profileResponse = await fetch(`/api/edit-profile.php`, {\n    method: 'POST',\n    body: formData,\n  });\n  if (!profileResponse.ok) return console.log(await profileResponse.text());\n\n  dispatch({\n    type: EDIT_PROFILE_TYPE,\n    payload: newDataObj,\n  });\n};\n","import { LOGIN_TYPE, LOGOUT_TYPE } from '../actions/auth/login';\nimport { EDIT_PROFILE_TYPE } from '../actions/profile/editProfile';\n\nconst initState = {\n  authorized: false,\n  user: null,\n  // authorized: true,\n  // user: {\n  //   user_id: '1',\n  //   name: 'Lars Johansen',\n  //   email: 'lswift@gmail.com',\n  // },\n};\n\nconst authReducer = (state = initState, action) => {\n  switch (action.type) {\n    case LOGIN_TYPE:\n      return { authorized: true, user: { ...action.payload } };\n    case EDIT_PROFILE_TYPE: {\n      const newState = { ...state };\n      newState.user.fullName = action.payload.firstName + ' ' + action.payload.lastName;\n      newState.user.email = action.payload.email;\n      return newState;\n    }\n    case LOGOUT_TYPE:\n      return { authorized: false, user: null };\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n\n/*\nComponents that make use of this:\n----------\nApp.jsx:\nMakes use of authorized to render different routes\n---------\nNav.jsx\nMakes use of user.user_id to profile link\n*/\n","export const FETCH_HOME_TWEETS_TYPE = 'FETCH_HOME_TWEETS';\n\nexport const fetchHomeTweetsA = () => async (dispatch, getState) => {\n  const skip = getState().homeTweets.skip;\n\n  const response = await fetch(`/api/get-following-tweets.php?skip=${skip}`);\n  if (!response.ok) return console.log(await response.text());\n  const { tweets } = await response.json();\n  dispatch({\n    type: FETCH_HOME_TWEETS_TYPE,\n    payload: tweets,\n  });\n};\n","export const POST_TWEET_TYPE = 'POST_TWEET';\n\nexport const postTweetA = (body) => async (dispatch, getState) => {\n  console.log(body);\n\n  const formData = new FormData();\n  formData.append('tweetBody', body);\n  const response = await fetch('/api/post-tweet.php', {\n    method: 'POST',\n    body: formData,\n  });\n  if (!response.ok) return console.log(await response.text());\n  const { id } = await response.json();\n\n  const user_id = getState().auth.user.user_id;\n  const fullName = getState().auth.user.fullName;\n\n  dispatch({\n    type: POST_TWEET_TYPE,\n    payload: {\n      tweet_id: id,\n      createdAt: new Date(),\n      likedStatus: 0,\n      name: fullName,\n      user_id,\n      body,\n      numLikes: 0,\n      numComments: 0,\n    },\n  });\n};\n\n/*\n    Components using this:\n    None atm\n\n*/\n","export const LIKE_TWEET_TYPE = 'LIKE_TWEET';\nexport const likeTweetA = (tweetId, currentStatus) => async (dispatch) => {\n  const formData = new FormData();\n  formData.append('tweetId', tweetId);\n  const response = await fetch('/api/like-tweet.php', {\n    method: 'POST',\n    body: formData,\n  });\n  if (!response.ok) return console.log(await response.text());\n  dispatch({\n    type: LIKE_TWEET_TYPE,\n    payload: { tweetId, currentStatus },\n  });\n};\n\n/*\n    Components using this:\n    Tweet.jsx on like click\n\n*/\n","import { getFormData } from '../../../helpers/getFormData';\n\nexport const COMMENT_TWEET_TYPE = 'COMMENT_TWEET';\n// tweetData: name, commentBody, tweetId\nexport const commentTweetA = (commentData) => async (dispatch) => {\n  const response = await fetch('/api/post-comment.php', {\n    method: 'POST',\n    body: getFormData(commentData),\n  });\n  if (!response.ok) return console.log(await response.text());\n  const { id } = await response.json();\n\n  commentData.comment_id = id;\n  commentData.createdAt = new Date();\n  commentData.body = commentData.commentBody;\n  commentData.commenter_id = commentData.user_id;\n  delete commentData.user_id;\n  delete commentData.commentBody;\n\n  dispatch({\n    type: COMMENT_TWEET_TYPE,\n    payload: commentData,\n  });\n};\n","export const DELETE_TWEET_TYPE = 'DELETE_TWEET';\n\nexport const deleteTweetA = (tweetId) => async (dispatch) => {\n  const response = await fetch(`/api/delete-tweet.php?tweetId=${tweetId}`);\n  if (!response.ok) return console.log(await response.text());\n\n  dispatch({\n    type: DELETE_TWEET_TYPE,\n    payload: tweetId,\n  });\n};\n","import { FETCH_HOME_TWEETS_TYPE } from '../actions/tweets/fetchHomeTweets';\nimport { POST_TWEET_TYPE } from '../actions/tweets/postTweet';\nimport { LIKE_TWEET_TYPE } from '../actions/tweets/likeTweet';\nimport { COMMENT_TWEET_TYPE } from '../actions/tweets/commentTweet';\nimport { DELETE_TWEET_TYPE } from '../actions/tweets/deleteTweet';\n\nconst initState = {\n  skip: 0,\n  bottom: false,\n  tweets: [],\n};\n\nconst homeTweetsReducer = (state = initState, action) => {\n  switch (action.type) {\n    case FETCH_HOME_TWEETS_TYPE:\n      const newState = { ...state };\n      newState.tweets = [...newState.tweets, ...action.payload];\n      newState.skip = newState.skip + action.payload.length;\n\n      if (action.payload.length < 10) newState.bottom = true;\n      return newState;\n\n    case POST_TWEET_TYPE:\n      return { ...state, tweets: [action.payload, ...state.tweets] };\n    case LIKE_TWEET_TYPE:\n      if (state.length > 0) {\n        const tweetIdx = state.tweets.findIndex((tweet) => tweet.tweet_id === action.payload.tweetId);\n        if (tweetIdx >= 0) {\n          state.tweets[tweetIdx].likedStatus = !action.payload.currentStatus;\n          if (!action.payload.currentStatus) {\n            state.tweets[tweetIdx].numLikes++;\n          } else state.tweets[tweetIdx].numLikes--;\n        }\n      }\n      return { ...state };\n\n    case COMMENT_TWEET_TYPE: {\n      const newState = { ...state };\n      const tweet = newState.tweets.find((tweet) => tweet.tweet_id === action.payload.tweetId);\n      if (tweet) {\n        tweet.numComments++;\n        return newState;\n      }\n      return state;\n    }\n\n    case DELETE_TWEET_TYPE: {\n      const idx = state.tweets.findIndex((tweet) => tweet.tweet_id === action.payload);\n      if (idx === -1) return state;\n      const newState = { ...state };\n      newState.tweets.splice(idx, 1);\n      return newState;\n    }\n    default:\n      return state;\n  }\n};\n\n/*\n    Components making use of this:\n    Home is grabbing homeTweets from redux store and rendering the tweets\n\n*/\n\nexport default homeTweetsReducer;\n","export const FETCH_PROFILE_DATA_TYPE = 'FETCH_PROFILE_DATA';\nexport const fetchProfileDataA = (id) => async (dispatch) => {\n  const profileResponse = await fetch(`/api/get-profile-data.php?userId=${id}`);\n  if (!profileResponse.ok) return console.log(await profileResponse.text());\n  const profile = await profileResponse.json();\n  dispatch({\n    type: FETCH_PROFILE_DATA_TYPE,\n    payload: profile,\n  });\n};\n\n/*\n    Components using this:\n    Profile.jsx on mount using data to show as a profile\n*/\n\nexport const FETCH_PROFILE_TWEETS_TYPE = 'FETCH_PROFILE_TWEETS';\nexport const fetchProfileTweetsA = (id, skip) => async (dispatch) => {\n  const tweetsResponse = await fetch(`/api/get-profile-tweets.php?userId=${id}&skip=${skip}`);\n  if (!tweetsResponse.ok) return console.log(await tweetsResponse.text());\n  const tweets = await tweetsResponse.json();\n  dispatch({\n    type: FETCH_PROFILE_TWEETS_TYPE,\n    payload: tweets,\n  });\n};\n\n/*\n    Components using this:\n    Profile.jsx on mount passing data to a TweetList\n*/\n","export const FOLLOW_USER_TYPE = 'FOLLOW_USER';\nexport const followUserA = (userId) => async (dispatch) => {\n  const formData = new FormData();\n  formData.append('userToFollowId', userId);\n  const response = await fetch(`/api/follow-user.php`, {\n    method: 'POST',\n    body: formData,\n  });\n\n  if (!response.ok) return console.log(await response.text());\n  dispatch({\n    type: FOLLOW_USER_TYPE,\n    payload: userId,\n  });\n};\n\n/*\n    Components using this:\n    Profile when you click on follow/unfollow\n\n*/\n","\nexport const CLEAR_PROFILE_TYPE = 'CLEAR_PROFILE'\nexport const clearProfileA = () => {\n    return {\n        type: CLEAR_PROFILE_TYPE\n    }\n}\n\n/*\n    Components using this:\n    Profile on component Unmount\n\n*/","import { FETCH_PROFILE_DATA_TYPE, FETCH_PROFILE_TWEETS_TYPE } from '../actions/profile/fetchProfile';\nimport { FOLLOW_USER_TYPE } from '../actions/profile/followUser';\nimport { CLEAR_PROFILE_TYPE } from '../actions/profile/clearProfile';\nimport { LIKE_TWEET_TYPE } from '../actions/tweets/likeTweet';\nimport { COMMENT_TWEET_TYPE } from '../actions/tweets/commentTweet';\nimport { DELETE_TWEET_TYPE } from '../actions/tweets/deleteTweet';\nimport { EDIT_PROFILE_TYPE } from '../actions/profile/editProfile';\n\nconst initState = {\n  details: {},\n  tweets: [],\n};\n\nconst profileReducer = (state = initState, action) => {\n  switch (action.type) {\n    case FETCH_PROFILE_DATA_TYPE:\n      return { ...state, details: { ...action.payload } };\n    case FETCH_PROFILE_TWEETS_TYPE:\n      return { ...state, tweets: [...state.tweets, ...action.payload] };\n    case LIKE_TWEET_TYPE:\n      if (state.tweets) {\n        const tweets = state.tweets;\n        const tweetIdx = tweets.findIndex((tweet) => tweet.tweet_id === action.payload.tweetId);\n        if (tweetIdx >= 0) {\n          tweets[tweetIdx].likedStatus = !action.payload.currentStatus;\n          if (!action.payload.currentStatus) {\n            tweets[tweetIdx].numLikes++;\n          } else tweets[tweetIdx].numLikes--;\n        }\n      }\n      return { ...state };\n    case FOLLOW_USER_TYPE:\n      if (state.details.hasOwnProperty('followStatus')) {\n        const curStatus = !state.details.followStatus || state.details.followStatus === '0' ? false : true;\n        state.details.followStatus = !curStatus;\n        return { ...state };\n      } else return state;\n\n    case COMMENT_TWEET_TYPE: {\n      const newState = { ...state };\n      const tweet = newState.tweets.find((tweet) => tweet.tweet_id === action.payload.tweetId);\n      if (tweet) {\n        const tweets = [...newState.tweets];\n        tweet.numComments++;\n        return { ...newState, tweets: [...tweets] };\n      }\n      return state;\n    }\n\n    case EDIT_PROFILE_TYPE: {\n      const newState = { ...state };\n      newState.details.name = action.payload.firstName + ' ' + action.payload.lastName;\n      newState.details.description = action.payload.description;\n      return newState;\n    }\n\n    case DELETE_TWEET_TYPE: {\n      if (state.tweets.length > 0) {\n        const idx = state.tweets.findIndex((tweet) => tweet.tweet_id === action.payload);\n        if (idx === -1) return state;\n        const newTweets = [...state.tweets];\n        newTweets.splice(idx, 1);\n        return { details: { ...state.details, tweetCount: state.details.tweetCount - 1 }, tweets: [...newTweets] };\n      }\n      return state;\n    }\n\n    case CLEAR_PROFILE_TYPE:\n      return initState;\n\n    default:\n      return state;\n  }\n};\n\n/*\n    Components using this:\n    Profile.jsx fetching the profileData and the tweets to show on a list\n\n*/\n\nexport default profileReducer;\n","export const FETCH_CHAT_LIST_TYPE = 'FETCH_CHAT_LIST';\nexport const fetchChatListA = () => async (dispatch) => {\n  const response = await fetch('/api/get-conversations.php');\n  if (!response.ok) return console.log(await response.text());\n  const chats = await response.json();\n\n  dispatch({\n    type: FETCH_CHAT_LIST_TYPE,\n    payload: { chatList: chats, loading: false },\n  });\n};\n\n/*\n    Components using this:\n    Chatlist.jsx onMount\n*/\n","export const SELECT_CHAT_TYPE = 'SELECT_CHAT';\nexport const selectChatA = (convId) => {\n  return {\n    type: SELECT_CHAT_TYPE,\n    payload: convId,\n  };\n};\n","export const PUSH_CHAT_TYPE = 'PUSH_CHAT';\n\nexport const pushChatA = (userId) => async (dispatch, getState) => {\n\n    const conv = await fetch(`/api/chat/get-new-conversation.php?receiverId=${userId}`);\n    if (!conv.ok) return console.log(await conv.text());\n\n    const { conversation } = await conv.json();\n\n    dispatch({\n        type: PUSH_CHAT_TYPE,\n        payload: conversation\n    })\n\n\n\n\n}\n\n\n/*\n    Components using this:\n    Chatlist.jsx is using this ONMOUNT if:\n    there is a userId in the paramsObj AND !state.chatList.loading\n\n*/\n\n\n\n\n\n\n\n","export const CLEAR_CHAT_LIST_TYPE = 'CLEAR_CHAT_LIST';\n\nexport const clearChatListA = () => ({\n    type: CLEAR_CHAT_LIST_TYPE\n})\n\n/*\n    Components using this:\n        NONE ATM - was intended for chatlist on DISMOUNT\n\n*/","import { FETCH_CHAT_LIST_TYPE } from '../actions/chat/fetchChatList';\nimport { SELECT_CHAT_TYPE } from '../actions/chat/selectChat';\nimport { PUSH_CHAT_TYPE } from '../actions/chat/pushChat';\nimport { CLEAR_CHAT_LIST_TYPE } from '../actions/chat/clearChatList';\n\nconst initState = {\n  loading: true,\n  selectedConvId: '0',\n  chatList: [],\n};\n\nconst chatListReducer = (state = initState, action) => {\n  switch (action.type) {\n    case FETCH_CHAT_LIST_TYPE:\n      return { ...state, ...action.payload, selectedConvId: '0' };\n    case SELECT_CHAT_TYPE:\n      const newState = { ...state };\n      newState.selectedConvId = action.payload;\n      return newState;\n    case PUSH_CHAT_TYPE:\n      return { ...state, chatList: [action.payload, ...state.chatList] };\n    case CLEAR_CHAT_LIST_TYPE:\n      return { ...initState };\n    default:\n      return state;\n  }\n};\n\nexport default chatListReducer;\n","export const FETCH_CHAT_ROOM_TYPE = 'FETCH_CHAT_ROOM_TYPE';\nexport const fetchChatRoomA = () => async (dispatch, getState) => {\n  const convId = getState().chatList.selectedConvId;\n  if (convId === '0' || !convId) return;\n  const res = await fetch(`/api/get-conversation-messages.php?conversationId=${convId}`);\n  if (!res.ok)\n    return dispatch({\n      type: FETCH_CHAT_ROOM_TYPE,\n      payload: {\n        messages: [],\n        users: [],\n        conversationId: false,\n      },\n    });\n  const { conversation } = await res.json();\n\n  dispatch({\n    type: FETCH_CHAT_ROOM_TYPE,\n    payload: conversation,\n  });\n};\n\nexport const FETCH_CHAT_MESSAGES_ONLY_TYPE = 'FETCH_CHAT_MESSAGES_ONLY';\nexport const fetchChatMessagesOnlyA = () => async (dispatch, getState) => {\n  const convId = getState().chatRoom.validated;\n  if (convId === '0' && !convId) return;\n  const res = await fetch(`/api/get-conversation-messages-only.php?conversationId=${convId}`);\n  if (!res.ok)\n    return dispatch({\n      payload: [],\n    });\n\n  const { messages } = await res.json();\n\n  dispatch({\n    type: FETCH_CHAT_MESSAGES_ONLY_TYPE,\n    payload: messages,\n  });\n};\n","export const CLEAR_CHAT_ROOM_TYPE = 'CLEAR_CHAT_ROOM';\n\nexport const clearChatRoomA = () => ({\n  type: CLEAR_CHAT_ROOM_TYPE,\n});\n\n/*\n    Components using this:\n        NONE ATM - was intended for chatlist on DISMOUNT\n\n*/\n","export const SEND_MESSAGE_TYPE = 'SEND_MESSAGE';\n\nexport const sendMessageA = (msg) => async (dispatch, getState) => {\n  const { chatList, chatRoom, auth } = getState();\n  if (msg.length === 0 || chatList.selectedConvId === '0' || !chatRoom.validated) return;\n\n  const messageObj = {\n    body: msg,\n    user_id: auth.user.user_id,\n    created_at: new Date(),\n  };\n\n  const formData = new FormData();\n  formData.append('conversation_fk', chatRoom.validated);\n  formData.append('body', msg);\n\n  const res = await fetch(`/api/send-message.php`, {\n    method: 'POST',\n    body: formData,\n  });\n\n  if (!res.ok) return console.log(await res.text());\n\n  const { id } = await res.json();\n\n  messageObj.message_id = id;\n\n  dispatch({\n    type: SEND_MESSAGE_TYPE,\n    payload: messageObj,\n  });\n\n  return id;\n};\n","export const APPEND_USER_TYPE = 'APPEND_USER';\n\nexport const appendUserA = (userName) => {\n  return {\n    type: APPEND_USER_TYPE,\n    payload: userName,\n  };\n};\n","export const CREATE_CONVERSATION_TYPE = 'CREATE_CONVERSATION';\n\nexport const createConversationA = (id, userName) => async (dispatch) => {\n  const formData = new FormData();\n  formData.append('receiverId', id);\n  const res = await fetch(`/api/create-conversation.php`, {\n    method: 'POST',\n    body: formData,\n  });\n\n  if (!res.ok) return console.log(await res.text());\n\n  const { conversation_id } = await res.json();\n\n  dispatch({\n    type: CREATE_CONVERSATION_TYPE,\n    payload: {\n      validated: conversation_id,\n      users: [\n        {\n          user_id: id,\n          name: userName,\n        },\n      ],\n    },\n  });\n};\n","export const SEARCH_MESSAGE_TYPE = 'SEARCH_MESSAGES';\n\nexport const searchMessagesA = (term, convId) => async (dispatch) => {\n  const res = await fetch(`/api/search-conversation-messages.php?searchTerm=${term}&convId=${convId}`);\n  if (!res.ok) return console.log(await res.text());\n\n  const messages = await res.json();\n\n  dispatch({\n    type: SEARCH_MESSAGE_TYPE,\n    payload: messages,\n  });\n};\n","export const PUSH_MESSAGE_TYPE = 'PUSH_MESSAGE';\n\nexport const pushMessageA = (messageObj) => {\n  return {\n    type: PUSH_MESSAGE_TYPE,\n    payload: messageObj,\n  };\n};\n","import { FETCH_CHAT_ROOM_TYPE, FETCH_CHAT_MESSAGES_ONLY_TYPE } from '../actions/chat/fetchChatRoom';\nimport { CLEAR_CHAT_ROOM_TYPE } from '../actions/chat/clearChatRoom';\nimport { SEND_MESSAGE_TYPE } from '../actions/chat/sendMessage';\nimport { APPEND_USER_TYPE } from '../actions/chat/appendUser';\nimport { CREATE_CONVERSATION_TYPE } from '../actions/chat/createConversation';\nimport { SEARCH_MESSAGE_TYPE } from '../actions/chat/searchMessage';\nimport { PUSH_MESSAGE_TYPE } from '../actions/chat/pushMessage';\n\nconst initState = {\n  validated: false, // refers to picked chat\n  loading: true,\n  messages: [],\n  users: [],\n};\n\nconst chatReducer = (state = initState, action) => {\n  switch (action.type) {\n    case FETCH_CHAT_ROOM_TYPE: {\n      const newState = { ...state };\n      newState.loading = false;\n      newState.messages = action.payload.messages.reverse();\n      newState.users = action.payload.users;\n      newState.validated = action.payload.conversationId;\n      return newState;\n    }\n    case APPEND_USER_TYPE: {\n      const newState = { ...state };\n      newState.users.push(action.payload);\n      return newState;\n    }\n\n    case SEND_MESSAGE_TYPE: {\n      const newState = { ...state };\n      newState.messages = newState.messages.concat(action.payload);\n      return newState;\n    }\n\n    case CREATE_CONVERSATION_TYPE: {\n      const newState = { ...state };\n      newState.validated = action.payload.validated;\n      newState.users = action.payload.users;\n      return newState;\n    }\n\n    case SEARCH_MESSAGE_TYPE: {\n      const newState = { ...state };\n      newState.messages = action.payload;\n      return newState;\n    }\n\n    case PUSH_MESSAGE_TYPE: {\n      const newState = { ...state };\n      newState.messages = newState.messages.concat(action.payload);\n      return newState;\n    }\n\n    case FETCH_CHAT_MESSAGES_ONLY_TYPE: {\n      const newState = { ...state };\n      newState.messages = action.payload.reverse();\n      return newState;\n    }\n\n    case CLEAR_CHAT_ROOM_TYPE:\n      return initState;\n    default:\n      return state;\n  }\n};\n\nexport default chatReducer;\n","export const FETCH_RECENT_SEARCHES_TYPE = 'FETCH_RECENT_SEARCHES';\nexport const fetchRecentSearchesA = () => async (dispatch) => {\n  const response = await fetch('/api/get-recent-searches.php');\n  if (!response.ok) return console.log(await response.text());\n  const data = await response.json();\n  dispatch({\n    type: FETCH_RECENT_SEARCHES_TYPE,\n    payload: data,\n  });\n};\n","export const FETCH_USER_SEARCH_TYPE = 'FETCH_USER_SEARCH';\nexport const fetchUserSearchA = (search) => async (dispatch) => {\n  const formData = new FormData();\n  formData.append('search', search);\n  const response = await fetch('/api/search-users.php', {\n    method: 'POST',\n    body: formData,\n  });\n  if (!response.ok) return console.log(await response.text());\n  const data = await response.json();\n  dispatch({\n    type: FETCH_USER_SEARCH_TYPE,\n    payload: data,\n  });\n};\n\nexport const USER_SEARCH_TERM_TYPE = 'USER_SEARCH_TERM_TYPE';\nexport const userSearchHandler = (val) => {\n  return {\n    type: USER_SEARCH_TERM_TYPE,\n    payload: val,\n  };\n};\n","export const ADD_RECENT_SEARCH_TYPE = 'ADD_RECENT_SEARCH';\n\nexport const addRecentSearchA = (search) => async (dispatch) => {\n  const formData = new FormData();\n  formData.append('search', search);\n\n  const response = await fetch('/api/add-recent-search.php', {\n    method: 'POST',\n    body: formData,\n  });\n  if (!response.ok) return console.log(await response.text());\n  dispatch({\n    type: ADD_RECENT_SEARCH_TYPE,\n    payload: search,\n  });\n};\n","import { FETCH_RECENT_SEARCHES_TYPE } from '../actions/search/fetchRecentSearches';\nimport { FETCH_USER_SEARCH_TYPE, USER_SEARCH_TERM_TYPE } from '../actions/search/fetchUserSearch';\nimport { ADD_RECENT_SEARCH_TYPE } from '../actions/search/addRecentSearch';\nconst searchReducer = (\n  state = {\n    recent: [],\n    current: [],\n    searchTerm: '',\n  },\n  action\n) => {\n  switch (action.type) {\n    case FETCH_RECENT_SEARCHES_TYPE:\n      return { ...state, recent: action.payload };\n    case FETCH_USER_SEARCH_TYPE:\n      return { ...state, current: action.payload };\n    case USER_SEARCH_TERM_TYPE: {\n      const newState = { ...state };\n      if (action.payload.length === 0) newState.current = [];\n      newState.searchTerm = action.payload;\n      return newState;\n    }\n    case ADD_RECENT_SEARCH_TYPE:\n      const newState = { ...state };\n      const idx = newState.recent.findIndex((termObj) => {\n        return termObj.search_term === action.payload;\n      });\n      if (idx === -1) {\n        newState.recent.unshift({ search_term: action.payload });\n        if (newState.recent.length >= 5) {\n          newState.recent.pop();\n        }\n      } else {\n        newState.recent.splice(idx, 1);\n        newState.recent.unshift({ search_term: action.payload });\n      }\n      newState.searchTerm = '';\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nexport default searchReducer;\n","export const FETCH_FOLLOW_SUGGESTIONS_TYPE = 'FECTH_FOLLOW_SUGGESTIONS';\nexport const fetchFollowSuggestionsA = () => async (dispatch) => {\n  const response = await fetch('/api/get-follow-suggestions.php');\n  if (!response.ok) return console.log(await response.text());\n\n  const data = await response.json();\n\n  dispatch({\n    type: FETCH_FOLLOW_SUGGESTIONS_TYPE,\n    payload: data,\n  });\n};\n","import { FETCH_FOLLOW_SUGGESTIONS_TYPE } from '../actions/fetchFollowSuggestions';\nimport { FOLLOW_USER_TYPE } from '../actions/profile/followUser';\nconst followSuggestionReducer = (state = [], action) => {\n  switch (action.type) {\n    case FETCH_FOLLOW_SUGGESTIONS_TYPE:\n      return action.payload;\n    case FOLLOW_USER_TYPE:\n      const newState = [...state];\n      const idx = newState.findIndex((user) => user.user_id === action.payload);\n      if (idx !== -1) {\n        newState[idx].followStatus = !newState[idx].followStatus;\n        return newState;\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default followSuggestionReducer;\n","export const FETCH_TWEET_TYPE = 'FETCH_TWEET';\nexport const fetchTweetA = (tweetId) => async (dispatch) => {\n  const res = await fetch(`/api/get-tweet.php?tweetId=${tweetId}`);\n  if (!res.ok) return console.log(await res.text());\n\n  const tweet = await res.json();\n\n  dispatch({\n    type: FETCH_TWEET_TYPE,\n    payload: tweet,\n  });\n};\n","export const DELETE_COMMENT_TYPE = 'DELETE_COMMENT';\n\nexport const deleteCommentA = (commentId) => async (dispatch) => {\n  const response = await fetch(`/api/delete-comment.php?commentId=${commentId}`);\n  if (!response.ok) return console.log(await response.text());\n\n  dispatch({\n    type: DELETE_COMMENT_TYPE,\n    payload: commentId,\n  });\n};\n","import { FETCH_TWEET_TYPE } from '../actions/tweets/fetchTweet';\nimport { COMMENT_TWEET_TYPE } from '../actions/tweets/commentTweet';\nimport { DELETE_COMMENT_TYPE } from '../actions/tweets/deleteComment';\n\nconst statusReducer = (state = {}, action) => {\n  switch (action.type) {\n    case FETCH_TWEET_TYPE:\n      return action.payload;\n    case COMMENT_TWEET_TYPE: {\n      if (state.hasOwnProperty('comments')) {\n        const newState = { ...state };\n        newState.comments.unshift(action.payload);\n        newState.numComments++;\n        return newState;\n      }\n    }\n\n    case DELETE_COMMENT_TYPE: {\n      if (state.hasOwnProperty('comments')) {\n        const idx = state.comments.findIndex((comment) => comment.comment_id === action.payload);\n        if (idx !== -1) {\n          const newState = { ...state };\n          newState.comments.splice(idx, 1);\n          newState.numComments -= 1;\n          return newState;\n        }\n      }\n      return state;\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default statusReducer;\n","import { combineReducers } from 'redux';\nimport authReducer from './authReducer';\nimport homeTweetsReducer from './homeTweetsReducer';\nimport profileReducer from './profileReducer';\nimport chatListReducer from './chatListReducer';\nimport chatReducer from './chatReducer';\nimport searchReducer from './searchReducer';\nimport followSuggestionsReducer from './followSuggestionsReducer';\nimport statusReducer from './statusReducer';\n\nexport default combineReducers({\n  auth: authReducer,\n  homeTweets: homeTweetsReducer,\n  profile: profileReducer,\n  chatList: chatListReducer,\n  chatRoom: chatReducer,\n  followSuggestions: followSuggestionsReducer,\n  searches: searchReducer,\n  status: statusReducer,\n});\n","import React from 'react';\n\nconst ErrorMessage = ({ error }) => {\n  return (\n    <div>\n      <p className=\"error-message\">\n        <i className=\"fas fa-exclamation-circle\"></i> {error}\n      </p>\n    </div>\n  );\n};\n\nexport default ErrorMessage;\n","export const capitalize = (name) => {\n  return name.charAt(0).toUpperCase() + name.toLowerCase().slice(1);\n};\n","import React from 'react';\nimport ErrorMessage from './ErrorMessage';\nimport { capitalize } from '../../helpers/capitalize';\n\nconst InputLabel = ({ name, onChangeHandler, password, error }) => {\n  return (\n    <div className=\"field-wrapper\">\n      <div className={`field ${error ? 'field-error' : ''}`}>\n        <label htmlFor={name} onChange={onChangeHandler}>\n          {capitalize(name)}\n        </label>\n        <input\n          type={password ? 'password' : 'text'}\n          id={name}\n          name={name}\n          onChange={onChangeHandler ? (e) => onChangeHandler(e, name) : () => {}}\n          autoComplete=\"off\"\n        ></input>\n      </div>\n      <div>{error && <ErrorMessage error={error} />}</div>\n    </div>\n  );\n};\n\nexport default InputLabel;\n","import { useState } from 'react';\nimport { getFormData } from '../../helpers/getFormData';\n\nconst useForm = (initState) => {\n  const [formState, setFormState] = useState(initState);\n\n  //   useEffect(() => {\n  //     console.log(formState);\n  //   }, [formState]);\n\n  const onChangeHandler = (e, name) => {\n    setFormState({ ...formState, [name]: e.target.value });\n  };\n\n  const setErrors = (errorObj) => {\n    if (!formState.hasOwnProperty('errors')) return;\n    setFormState({ ...formState, errors: errorObj });\n  };\n\n  const formData = getFormData(formState);\n\n  return [formState, onChangeHandler, formData, setErrors];\n};\n\nexport default useForm;\n","import React from 'react';\n\nconst Success = () => {\n  return (\n    <div>\n      <h2 style={{ textAlign: 'center', marginBottom: '10px' }}>Welcome to Twitter!</h2>\n      <p style={{ marginBottom: '30px', textAlign: 'center' }}>Please proceed to log in</p>\n      <img src=\"https://media3.giphy.com/media/3o7bu57lYhUEFiYDSM/giphy.gif\" alt=\"success\"></img>\n    </div>\n  );\n};\n\nexport default Success;\n","import React, { useState } from 'react';\nimport InputLabel from '../utils/InputLabel';\nimport ErrorMessage from '../utils/ErrorMessage';\nimport useForm from '../hooks/useForm';\nimport { validateEmail } from '../../helpers/validateEmail';\nimport Success from './Success';\n\nconst initState = {\n  firstName: '',\n  lastName: '',\n  email: '',\n  password: '',\n  errors: {\n    email: '',\n    general: '',\n  },\n};\n\nconst SignUpFlow = ({ setDisplay }) => {\n  const [formState, onChangeHandler, formData, setErrors] = useForm(initState);\n  const [page, setPageHandler] = useState(0);\n\n  const onSubmitHandler = async (e) => {\n    e.preventDefault();\n    const res = await fetch('/api/sign-up.php', {\n      method: 'POST',\n      body: formData,\n    });\n    if (res.status !== 200) {\n      const data = await res.json();\n      setErrors(data);\n      return;\n    }\n    setPageHandler(1);\n    setTimeout(() => {\n      setDisplay(false);\n    }, 3000);\n  };\n\n  return (\n    <div id=\"signupflow\" onClick={() => setDisplay(false)}>\n      <div id=\"box\" onClick={(e) => e.stopPropagation()}>\n        {page === 0 && (\n          <div>\n            <div>\n              <form onSubmit={onSubmitHandler}>\n                <div className=\"header\">\n                  <p></p>\n                  <p>Twitter</p>\n                  <button\n                    disabled={\n                      formState.firstName.length < 2 ||\n                      formState.lastName.length < 2 ||\n                      !validateEmail(formState.email) ||\n                      formState.password.length < 5\n                    }\n                  >\n                    Submit\n                  </button>\n                </div>\n                <h2>Create your account</h2>\n                <InputLabel name={'firstName'} onChangeHandler={onChangeHandler} />\n                <p style={{ marginTop: '-15px' }}>{formState.firstName.length || 0}/50</p>\n                <InputLabel name={'lastName'} onChangeHandler={onChangeHandler} />\n                <p style={{ marginTop: '-15px' }}>{formState.lastName.length || 0}/50</p>\n                <div></div>\n                <InputLabel name={'email'} onChangeHandler={onChangeHandler} error={formState.errors.email} />\n                <InputLabel name={'password'} onChangeHandler={onChangeHandler} password />\n                {formState.errors.general && <ErrorMessage error={formState.errors.general} />}\n              </form>\n            </div>\n          </div>\n        )}\n        {page === 1 && (\n          <div>\n            <p>hej</p>\n            <Success />{' '}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SignUpFlow;\n","export const validateEmail = (email) => {\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n};\n","import React from 'react';\n\nconst IndexFooter = () => {\n  return (\n    <footer>\n      <div className=\"footer-menu-wrapper\">\n        <p>About</p>\n        <p>Help</p>\n        <p>Center</p>\n        <p>Terms of Service</p>\n        <p>Privacy Policy</p>\n        <p>Cookie Policy</p>\n        <p>Ads info</p>\n        <p>Blog</p>\n        <p>Status</p>\n        <p>Brand</p>\n        <p>Resources</p>\n        <p>Advertising</p>\n      </div>\n      <div className=\"copyright\"> 2020 Twitter, Inc.</div>\n    </footer>\n  );\n};\n\nexport default IndexFooter;\n","import React, { useState, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { loginA } from '../store/actions/auth/login';\nimport SignUpFlow from '../components/signupFlow/SignUpFlow';\nimport IndexFooter from '../components/global/IndexFooter';\nimport InputLabel from '../components/utils/InputLabel';\nimport useForm from '../components/hooks/useForm';\n\nconst initState = {\n  email: '',\n  password: '',\n  errors: {\n    email: '',\n    password: '',\n    general: '',\n  },\n};\n\nconst Index = ({ loginA }) => {\n  const formRef = useRef(null);\n  const [formState, onChangeHandler, formData] = useForm(initState);\n  const [displayFlow, setDisplayFlow] = useState(false);\n\n  const onSubmitHandler = async (e) => {\n    e.preventDefault();\n    const res = await fetch(`/api/log-in.php`, {\n      method: 'POST',\n      body: formData,\n    });\n\n    if (!res.ok) return console.log(await res.text());\n    const { user } = await res.json();\n    loginA(user);\n  };\n\n  return (\n    <div className=\"login-page-wrapper\">\n      {displayFlow && <SignUpFlow setDisplay={setDisplayFlow} />}\n      <div className=\"login-page\">\n        <div id=\"left\">\n          <div className=\"inner-wrapper\">\n            <div>\n              <i className=\"fas fa-search\"></i>\n              <p>Follow your interests.</p>\n            </div>\n            <div>\n              <i className=\"fas fa-user-friends\"></i>\n              <p>Hear what people are talking about.</p>\n            </div>\n            <div>\n              <i className=\"far fa-comment\"></i>\n              <p>Join the conversation.</p>\n            </div>\n          </div>\n        </div>\n        <div id=\"right\">\n          <form onSubmit={onSubmitHandler} ref={formRef}>\n            <InputLabel name=\"email\" onChangeHandler={onChangeHandler} error={formState.errors.email} />\n            <InputLabel name=\"password\" password onChangeHandler={onChangeHandler} error={formState.errors.password} />\n            <button>Log in</button>\n          </form>\n\n          <div className=\"index-cta\">\n            <h1>See what's happening in the world right now</h1>\n            <p>Join Twitter today.</p>\n            <button onClick={() => setDisplayFlow(true)}>Sign up</button>\n            <button>Log in</button>\n          </div>\n        </div>\n      </div>\n      <IndexFooter />\n    </div>\n  );\n};\n\nexport default connect(null, { loginA })(Index);\n","import React from 'react';\n\nconst ProfileImage = ({ user_id, classNames }) => {\n  return (\n    <img\n      style={{ objectFit: 'cover' }}\n      className={classNames}\n      src={`/images/profile-images/profile-image-${user_id}.jpg`}\n      alt=\"profile\"\n      onError={function (e) {\n        e.target.src = 'https://source.unsplash.com/random/400x400';\n      }}\n    />\n  );\n};\n\nexport default ProfileImage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport ProfileImage from '../utils/ProfileImage';\nimport { logoutA } from '../../store/actions/auth/login';\n\nconst Nav = ({ user_id, name, logoutA }) => {\n  return (\n    <div id=\"nav-wrapper\">\n      <div id=\"nav\">\n        <div id=\"nav-menu\">\n          <div>\n            <Link to=\"/home\">\n              <i className=\"fas fa-home\"></i>Home\n            </Link>\n\n            <Link to={`/profile/${user_id}`}>\n              <i className=\"fas fa-user-alt\"></i>Profile\n            </Link>\n            <Link to={`/notifications`}>\n              <i className=\"fas fa-bell\"></i>\n              Notifications\n            </Link>\n            <Link to={`/messages`}>\n              <i className=\"far fa-envelope\"></i>\n              Messages\n            </Link>\n            <button id=\"nav-tweetBtn\">Tweet</button>\n          </div>\n          <div id=\"nav-options\">\n            <button onClick={logoutA}>\n              <div className=\"first-container\">\n                <ProfileImage user_id={user_id} />\n              </div>\n              <div style={{ fontSize: '10px' }}>{name}</div>\n              <i className=\"fas fa-angle-down\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({\n  auth: {\n    user: { user_id, name },\n  },\n}) => ({\n  user_id,\n  name,\n});\n\nexport default connect(mapStateToProps, { logoutA })(Nav);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport dayjs from 'dayjs';\nimport { commentTweetA } from '../store/actions/tweets/commentTweet';\nimport ProfileImage from './utils/ProfileImage';\n\nconst CommentFormModal = ({ setDisplay, createdAt, body, name, commentTweetA, user_id, fullName, tweetId, tweet_user_id }) => {\n  const [comment, setComment] = useState('');\n\n  const onSubmitHandler = (e) => {\n    e.preventDefault();\n    const data = {\n      user_id,\n      name: fullName,\n      tweetId,\n      commentBody: comment,\n    };\n\n    commentTweetA(data);\n    setDisplay(false);\n  };\n\n  return ReactDOM.createPortal(\n    <div className=\"comment-modal\" onClick={() => setDisplay(false)}>\n      <div onClick={(e) => e.stopPropagation()} className=\"comment-modal-box\">\n        <header>\n          <button onClick={() => setDisplay(false)}>\n            <i className=\"fas fa-times\"></i>\n          </button>\n        </header>\n        <div className=\"tweet\">\n          <ProfileImage user_id={tweet_user_id} classNames={'tweet-profile-image'} />\n          <div style={{ width: '100%' }}>\n            <div className=\"tweet-header\">\n              <p className=\"font-semibold\">{name}</p>\n              <p className=\"\">{dayjs(createdAt).format('MMM D')}</p>\n            </div>\n            <p className=\"tweet-body\">{body}</p>\n            <p className=\"comment-modal-replying\">Replying to @{name}</p>\n          </div>\n        </div>\n        <div className=\"comment-modal-form\">\n          <div>\n            <ProfileImage user_id={user_id} classNames={'tweet-profile-image'} />\n          </div>\n          <form onSubmit={(e) => onSubmitHandler(e)}>\n            <input\n              type=\"text\"\n              placeholder=\"Tweet your reply!\"\n              name=\"commentBody\"\n              onChange={(e) => setComment(e.target.value)}\n              value={comment}\n            ></input>\n            <button>Reply</button>\n          </form>\n        </div>\n      </div>\n    </div>,\n    document.getElementById('modal')\n  );\n};\n\nconst mapStateToProps = ({\n  auth: {\n    user: { user_id, fullName },\n  },\n}) => ({\n  user_id,\n  fullName,\n});\n\nexport default connect(mapStateToProps, { commentTweetA })(CommentFormModal);\n","import React, { useState } from 'react';\nimport dayjs from 'dayjs';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { likeTweetA } from '../store/actions/tweets/likeTweet';\nimport CommentFormModal from './CommentFormModal';\nimport { deleteTweetA } from '../store/actions/tweets/deleteTweet';\nimport ProfileImage from './utils/ProfileImage';\n\nconst Tweet = ({\n  tweet: { name, body, createdAt, tweet_id, user_id, likedStatus, numLikes, numComments },\n  likeTweetA,\n  loggedInUser,\n  deleteTweetA,\n}) => {\n  const [liked, setLiked] = useState(!likedStatus || likedStatus === '0' ? false : true);\n  const [number, setNumber] = useState(numLikes || 0);\n  const [displayComment, setDisplayComment] = useState(false);\n\n  const onLikeHandler = () => {\n    likeTweetA(tweet_id, liked);\n    if (liked) setNumber(parseInt(number) - 1);\n    else setNumber(parseInt(number) + 1);\n    setLiked(!liked);\n  };\n\n  const onDeleteHandler = () => {\n    deleteTweetA(tweet_id);\n  };\n\n  return (\n    <div className=\"tweet-wrapper\" data-tweetid={tweet_id}>\n      {displayComment && (\n        <div onClick={(e) => e.stopPropagation()}>\n          <CommentFormModal\n            setDisplay={setDisplayComment}\n            body={body}\n            name={name}\n            createdAt={createdAt}\n            tweetId={tweet_id}\n            tweet_user_id={user_id}\n          />\n        </div>\n      )}\n      <div className=\"tweet\">\n        <ProfileImage user_id={user_id} classNames=\"tweet-profile-image\" />\n        <div style={{ width: '100%' }}>\n          <div className=\"tweet-header\">\n            <Link to={`/profile/${user_id}`} data-userid={user_id} className=\"font-semibold\">\n              {name}\n            </Link>\n            <div style={{ display: 'flex' }}>\n              <p className=\"\">{dayjs(createdAt).format('MMM D')}</p>\n              {loggedInUser === user_id && (\n                <button style={{ color: 'rgb(101, 119, 134)', marginLeft: '10px' }} onClick={onDeleteHandler}>\n                  <i className=\"fas fa-trash-alt\"></i>\n                </button>\n              )}\n            </div>\n          </div>\n          <p className=\"tweet-body\">{body}</p>\n          <div className=\"tweet-actions-bar\">\n            <div>\n              <button className={`like-button ${liked ? 'tweet-liked' : ''}`} style={{ justifySelf: 'start' }} onClick={onLikeHandler}>\n                <i className={`far fa-heart`}></i>\n                <span className=\"\">{number}</span>\n              </button>\n            </div>\n            <div>\n              <button className=\"comment-button\" style={{ justifySelf: 'start' }} onClick={() => setDisplayComment(true)}>\n                <i className=\"far fa-comment\"></i>\n                <span className=\"\">{numComments}</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({\n  auth: {\n    user: { user_id },\n  },\n}) => ({\n  loggedInUser: user_id,\n});\n\nexport default connect(mapStateToProps, { likeTweetA, deleteTweetA })(Tweet);\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Tweet from './Tweet';\n\nconst TweetWrap = (props) => {\n  const history = useHistory();\n  const onClickHandler = (e) => {\n    if (\n      e.target instanceof HTMLAnchorElement ||\n      e.target instanceof HTMLButtonElement ||\n      e.target.parentNode instanceof HTMLButtonElement\n    ) {\n      return;\n    } else {\n      history.push(props.link);\n    }\n  };\n\n  const tweet = () => {\n    if (props.link) {\n      return (\n        <div onClick={(e) => onClickHandler(e)} style={{ cursor: 'pointer' }}>\n          <Tweet {...props} />\n        </div>\n      );\n    } else {\n      return <Tweet {...props} />;\n    }\n  };\n\n  return tweet();\n};\n\nexport default TweetWrap;\n","import React, { useEffect, useState } from 'react';\nimport TweetWrap from './TweetWrap';\n\nconst TweetsList = ({ tweets }) => {\n  const [tweetState, setTweetState] = useState(tweets);\n\n  const renderTweets = tweetState.map((tweet) => {\n    return <TweetWrap tweet={tweet} key={`${tweet.tweet_id}${tweet.numComments}`} link={`/status/${tweet.user_id}/${tweet.tweet_id}/`} />;\n  });\n\n  useEffect(() => {\n    setTweetState(tweets);\n  }, [tweets]);\n\n  return (\n    <div className=\"tweetList\">\n      {(tweets.length === 0 && (\n        <p className=\"no-tweets-message\">No tweets found - Try following some people or refresh your browser!</p>\n      )) || <div>{renderTweets}</div>}{' '}\n    </div>\n  );\n};\n\nexport default TweetsList;\n","export const stringCutter = (str, len, dots = true) => {\n  if (!len) throw new Error('No length provided in stringCutter function');\n  let newStr = str.slice(0, len);\n  if (str.length > len && dots) newStr += '...';\n  return newStr;\n};\n","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { stringCutter } from '../../helpers/stringCutter';\nimport { followUserA } from '../../store/actions/profile/followUser';\nimport ProfileImage from '../utils/ProfileImage';\n\nconst FollowModal = connect(null, { followUserA })(({ name, user_id, displayHandler, followUserA }) => {\n  const unfollowHandler = () => {\n    followUserA(user_id);\n    displayHandler(false);\n  };\n\n  return ReactDOM.createPortal(\n    <div className=\"unfollow-modal\" onClick={() => displayHandler(false)}>\n      <div className=\"unfollow-modal-content-wrapper\" onClick={(e) => e.stopPropagation()}>\n        <h3>Unfollow {name}?</h3>\n        <p>\n          Their Tweets will no longer show up in your home timeline. You can still view their profile, unless their Tweets are protected.\n        </p>\n        <div>\n          <button onClick={() => displayHandler(false)}>Cancel</button>\n          <button onClick={unfollowHandler}>Unfollow</button>\n        </div>\n      </div>\n    </div>,\n    document.getElementById('modal')\n  );\n});\n\nconst FollowBox = ({ user: { name, followStatus, image, user_id }, followUserA }) => {\n  const [displayModal, setDisplayModal] = useState(false);\n\n  const followMessage = followStatus ? 'Unfollow' : 'Follow';\n\n  const onFollowHandler = () => {\n    if (followStatus) {\n      setDisplayModal(true);\n      return;\n    } else {\n      followUserA(user_id);\n    }\n  };\n\n  return (\n    <div className=\"follow-box\">\n      {displayModal && <FollowModal name={name} user_id={user_id} displayHandler={setDisplayModal} />}\n      <div style={{ height: '50px', width: '50px', marginRight: '10px' }}>\n        <ProfileImage user_id={user_id} />\n      </div>\n      <div>\n        <Link to={`/profile/${user_id}`}>{stringCutter(name, 12)}</Link>\n        <p className=\"follow-box-user-name\">@{stringCutter('squareengi391', 12)}</p>\n      </div>\n      <button onClick={onFollowHandler}>{followMessage}</button>\n    </div>\n  );\n};\n\nexport default connect(null, { followUserA })(FollowBox);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchFollowSuggestionsA } from '../../store/actions/fetchFollowSuggestions';\n\nimport FollowBox from '../global/FollowBox';\nconst FollowSuggestion = ({ followSuggestions, fetchFollowSuggestionsA }) => {\n  const followBoxes = followSuggestions.map((user, index) => <FollowBox user={user} key={`${index}${user.followStatus}`} />);\n\n  useEffect(() => {\n    if (followSuggestions.length === 0) fetchFollowSuggestionsA();\n  }, [fetchFollowSuggestionsA]);\n\n  return (\n    <div className=\"right-list\">\n      <h3>Who to follow</h3>\n      <div>{followBoxes}</div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ followSuggestions }) => ({\n  followSuggestions,\n});\n\nexport default connect(mapStateToProps, { fetchFollowSuggestionsA })(FollowSuggestion);\n","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { fetchRecentSearchesA } from '../../../store/actions/search/fetchRecentSearches';\nimport { userSearchHandler } from '../../../store/actions/search/fetchUserSearch';\nimport { addRecentSearchA } from '../../../store/actions/search/addRecentSearch';\nimport ProfileImage from '../../utils/ProfileImage';\n\nconst SearchBox = ({ displayHandler, recent, fetchRecentSearchesA, current, searchTerm, userSearchHandler, addRecentSearchA }) => {\n  useEffect(() => {\n    if (recent.length === 0) {\n      fetchRecentSearchesA();\n    }\n    const handleDropDown = (e) => {\n      if (e.target.getAttribute('data-click')) return;\n      const parent = document.querySelector('.search-bar');\n      if (!parent.contains(e.target)) displayHandler(false);\n    };\n    document.addEventListener('click', handleDropDown);\n\n    return () => {\n      document.removeEventListener('click', handleDropDown);\n    };\n  }, [displayHandler]);\n\n  const arrToMap = searchTerm.length > 0 ? current : recent;\n\n  const linkClickHandler = (search_term) => {\n    addRecentSearchA(search_term);\n  };\n\n  const renderSearches = arrToMap.map(({ search_term, name, user_id = 'false' }, index) => {\n    if (arrToMap === current) {\n      return (\n        <div className=\"profile-search-wrapper\" key={index}>\n          <ProfileImage user_id={user_id} />\n          <Link to={`/profile/${user_id}`} onClick={() => linkClickHandler(name)} data-click>\n            {search_term || name}\n          </Link>\n        </div>\n      );\n    } else\n      return (\n        <button data-click key={index} onClick={() => userSearchHandler(search_term)}>\n          {search_term}\n        </button>\n      );\n  });\n\n  return (\n    <div className=\"search-box\">\n      {(recent.length === 0 && searchTerm.length === 0 && <p>Try searching for people</p>) || (\n        <div>\n          {searchTerm.length === 0 && <h3 className=\"recent-searches-title\">Recent</h3>}\n          <div>{renderSearches.length === 0 && searchTerm.length > 0 ? <p>No matches</p> : renderSearches}</div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ searches: { recent, current, searchTerm } }) => ({\n  recent,\n  current,\n  searchTerm,\n});\n\nexport default connect(mapStateToProps, { fetchRecentSearchesA, userSearchHandler, addRecentSearchA })(SearchBox);\n","import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport SearchBox from './SearchBox';\nimport { fetchUserSearchA, userSearchHandler } from '../../../store/actions/search/fetchUserSearch';\n\nconst SearchBar = ({ fetchUserSearchA, searchTerm, userSearchHandler }) => {\n  const [displayBox, setDisplayBox] = useState(false);\n\n  useEffect(() => {\n    if (searchTerm.length > 0) {\n      const cancelSearch = setTimeout(() => {\n        fetchUserSearchA(searchTerm);\n      }, 300);\n\n      return () => {\n        clearTimeout(cancelSearch);\n      };\n    }\n  }, [searchTerm, fetchUserSearchA]);\n\n  return (\n    <div className=\"search-bar\" onClick={() => setDisplayBox(true)}>\n      <i className=\"fas fa-search\"></i>\n      <input type=\"text\" placeholder=\"Search users\" value={searchTerm} onChange={(e) => userSearchHandler(e.target.value)} />\n      {displayBox && <SearchBox displayHandler={setDisplayBox} />}\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ searches: { searchTerm } }) => ({\n  searchTerm,\n});\nexport default connect(mapStateToProps, { fetchUserSearchA, userSearchHandler })(SearchBar);\n","import React from 'react';\n\nclass FollowList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.listBottom = React.createRef();\n  }\n\n  // state = {\n  //   skip: 0,\n  //   bottom: false,\n  // };\n\n  // options = {\n  //   rootMargin: '100px',\n  // };\n  // observer = new IntersectionObserver((entries) => {\n  //   entries.forEach(async (entry) => {\n  //     if (entry.isIntersecting) {\n  //       this.setState({ skip: this.state.skip + 10 }, () => this.props.cb(this.state.skip));\n  //     }\n  //   });\n  // }, this.options);\n\n  // componentDidMount() {\n  //   this.observer.observe(this.listBottom.current);\n  // }\n\n  // componentWillUnmount() {\n  //   this.observer.unobserve(this.listBottom.current);\n  // }\n\n  render() {\n    return (\n      <div className=\"follow-list-list\" style={{ borderRight: '1px solid #e9e9e9' }}>\n        {this.props.children}\n        <div ref={this.listBottom} style={{ padding: '10px' }}></div>\n      </div>\n    );\n  }\n}\n\nexport default FollowList;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport Nav from '../components/global/Nav';\nimport TweetList from '../components/TweetList';\nimport FollowSuggestionList from '../components/global/FollowSuggestions';\nimport SearchBar from '../components/global/search/SearchBar';\nimport { postTweetA } from '../store/actions/tweets/postTweet';\nimport ProfileImage from '../components/utils/ProfileImage';\nimport { fetchHomeTweetsA } from '../store/actions/tweets/fetchHomeTweets';\nimport WithObserverList from '../components/global/withObserverListRedux';\n\nconst Home = ({ fetchHomeTweetsA, homeTweets, homeBottom, postTweetA, user_id }) => {\n  const [inputState, setInputState] = useState('');\n  const bottomRef = useRef(null);\n\n  const onChangeHandler = (val) => {\n    setInputState(val);\n  };\n\n  useEffect(() => {\n    fetchHomeTweetsA();\n  }, [fetchHomeTweetsA]);\n\n  useEffect(() => {\n    let options = {\n      rootMargin: '100px',\n    };\n\n    const observer = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          onScrollHandler();\n        }\n      });\n    }, options);\n    if (homeTweets.length >= 10 && !homeBottom) {\n      observer.observe(bottomRef.current);\n    }\n\n    return () => {\n      if (homeTweets.length >= 10 && !homeBottom && bottomRef.current) {\n        observer.unobserve(bottomRef.current);\n      }\n    };\n  }, [homeTweets]);\n\n  const onSubmitHandler = (e) => {\n    e.preventDefault();\n    postTweetA(inputState);\n  };\n\n  const onScrollHandler = (s) => {\n    fetchHomeTweetsA(s);\n  };\n\n  return (\n    <div style={{ gridTemplateColumns: '220px 600px 1fr', display: 'grid' }} className=\"container\">\n      <Nav />\n      <div>\n        <div className=\"mid-top\">\n          <h1>Home</h1>\n        </div>\n        <div id=\"tweet-home\">\n          <form onSubmit={(e) => onSubmitHandler(e)}>\n            <div className=\"input-image-wrapper\">\n              <ProfileImage user_id={user_id} />\n              <div className=\"input-wrapper\">\n                <div className=\"input-content\">\n                  <input type=\"text\" placeholder=\"What's happening?\" onChange={(e) => onChangeHandler(e.target.value)}></input>\n                </div>\n                <p className=\"reply-status\">\n                  <i className=\"fas fa-globe-americas\"></i> Everyone can reply\n                </p>\n              </div>\n            </div>\n            <div className=\"form-bottom\">\n              <button disabled={inputState < 1}>Tweet</button>\n            </div>\n          </form>\n        </div>\n\n        <TweetList tweets={homeTweets} />\n        <div className=\"home-tweet-bottom\" ref={bottomRef}></div>\n      </div>\n      <div className=\"right\">\n        <SearchBar />\n        <FollowSuggestionList />\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({\n  homeTweets,\n  auth: {\n    user: { user_id },\n  },\n}) => ({\n  homeTweets: homeTweets.tweets,\n  homeSkip: homeTweets.skip,\n  homeBottom: homeTweets.bottom,\n  user_id,\n});\n\nexport default connect(mapStateToProps, { fetchHomeTweetsA, postTweetA })(Home);\n","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport { editProfileA } from '../store/actions/profile/editProfile';\n\nconst EditProfileModal = ({ displayHandler, name, email, description, editProfileA }) => {\n  description = description || '';\n\n  const [state, setState] = useState({\n    firstName: name.split(' ')[0],\n    lastName: name.split(' ')[1],\n    email: email,\n    description: description,\n  });\n\n  const onClickHandler = () => {\n    editProfileA(state);\n  };\n\n  const onSubmitHandler = (e) => {\n    e.preventDefault();\n    onClickHandler();\n  };\n\n  return ReactDOM.createPortal(\n    <div className=\"edit-profile-modal-wrapper\" onClick={() => displayHandler(false)}>\n      <div className=\"edit-profile-modal\" onClick={(e) => e.stopPropagation()}>\n        <header>\n          <div>\n            <button onClick={() => displayHandler(false)}>\n              <i className=\"fas fa-times\"></i>\n            </button>\n            <h3>Edit profile</h3>\n          </div>\n\n          <button\n            className=\"edit-profile-modal-save-btn\"\n            onClick={onClickHandler}\n            disabled={name === state.name && email === state.email && state.description === description}\n          >\n            Save\n          </button>\n        </header>\n\n        <form onSubmit={onSubmitHandler}>\n          <input\n            type=\"text\"\n            placeholder=\"First name\"\n            value={state.firstName}\n            onChange={(e) => setState({ ...state, firstName: e.target.value })}\n          ></input>\n          <input\n            type=\"text\"\n            placeholder=\"Last name\"\n            value={state.lastName}\n            onChange={(e) => setState({ ...state, lastName: e.target.value })}\n          ></input>\n          <input\n            type=\"text\"\n            placeholder=\"Email\"\n            value={state.email}\n            onChange={(e) => setState({ ...state, email: e.target.value })}\n          ></input>\n          <textarea\n            rows=\"4\"\n            placeholder=\"Profile description\"\n            value={state.description}\n            onChange={(e) => setState({ ...state, description: e.target.value })}\n          ></textarea>\n        </form>\n      </div>\n    </div>,\n    document.getElementById('modal')\n  );\n};\n\nconst mapStateToProps = ({\n  auth: {\n    user: { name, email },\n  },\n}) => ({\n  name,\n  email,\n});\n\nexport default connect(mapStateToProps, { editProfileA })(EditProfileModal);\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst BackButton = () => {\n  const history = useHistory();\n\n  return (\n    <button onClick={() => history.goBack()}>\n      <i className=\"fas fa-arrow-left\"></i>\n    </button>\n  );\n};\n\nexport default BackButton;\n","import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { useParams, Link, useHistory } from 'react-router-dom';\nimport Nav from '../components/global/Nav';\nimport SearchBar from '../components/global/search/SearchBar';\nimport FollowSuggestionList from '../components/global/FollowSuggestions';\nimport { followUserA } from '../store/actions/profile/followUser';\nimport { fetchProfileDataA, fetchProfileTweetsA } from '../store/actions/profile/fetchProfile';\nimport { clearProfileA } from '../store/actions/profile/clearProfile';\nimport TweetList from '../components/TweetList';\nimport ProfileImage from '../components/utils/ProfileImage';\nimport EditProfileModal from '../components/EditProfileModal';\nimport WithObserverListRedux from '../components/global/withObserverListRedux';\nimport BackButton from '../components/global/BackButton';\n\nconst Profile = ({ followUserA, fetchProfileDataA, fetchProfileTweetsA, details, tweets, clearProfileA, followStatus, loggedInUserId }) => {\n  const { userId } = useParams();\n  const history = useHistory();\n  const [displayEdit, setDisplayEdit] = useState(false);\n  useEffect(() => {\n    fetchProfileDataA(userId);\n    fetchProfileTweetsA(userId);\n    return () => clearProfileA();\n  }, [fetchProfileDataA, fetchProfileTweetsA, clearProfileA, userId]);\n\n  const onUploadProfileImage = async (e) => {\n    const formData = new FormData();\n    formData.append('file', e.target.files[0]);\n    const res = await fetch('/api/upload-profile-image.php', {\n      method: 'POST',\n      body: formData,\n    });\n    if (!res.ok) return console.log('image wasnt uploaded');\n    else history.go(0);\n  };\n\n  const onScrollHandler = (userId, skip) => {\n    fetchProfileTweetsA(userId, skip);\n  };\n  const renderContent = () => {\n    if (!details.hasOwnProperty('user_id')) return <p>Loading!</p>;\n    else {\n      const { user_id, name, createdAt, followingCount, followerCount, tweetCount, coverImage, description } = details;\n      return (\n        <div>\n          {displayEdit && <EditProfileModal displayHandler={setDisplayEdit} description={description} />}\n          {/* Header */}\n          <div className=\"profile-header\">\n            <BackButton />\n            <div>\n              <h1>{name}</h1>\n              <p>{tweetCount} Tweets</p>\n            </div>\n          </div>\n          {/* Header end */}\n          <div id={user_id} className=\"\">\n            <div className=\"profile-cover-image\">\n              {userId === loggedInUserId && (\n                <form className=\"upload-profile-image-form\">\n                  <label htmlFor=\"photo\">\n                    <i className=\"fas fa-camera\"></i>\n                  </label>\n                  <input type=\"file\" name=\"photo\" id=\"photo\" onChange={(e) => onUploadProfileImage(e)} />\n                </form>\n              )}\n              <ProfileImage user_id={user_id} classNames=\"profile-cover-image-image\" />\n            </div>\n            <div className=\"profile-details\">\n              <div className=\"profile-details-lower\">\n                <div className=\"profile-details-lower-left\">\n                  <h3>{name}</h3>\n                  <p>@{name}</p>\n                  <p className=\"profile-details-lower-left-calender\">\n                    <i className=\"far fa-calendar-alt\"></i>\n                    Joined {createdAt}\n                  </p>\n                  <div className=\"profile-details-lower-left-follow-count\">\n                    <Link to={`/${user_id}/following`}>\n                      <span className=\"number\">{followingCount}</span> Following\n                    </Link>\n                    <Link to={`/${user_id}/followers`}>\n                      <span className=\"number\">{followerCount}</span> Followers\n                    </Link>\n                  </div>\n                  <p style={{ marginTop: '10px' }}>{description}</p>\n                </div>\n                <div className=\"profile-details-lower-actions\">\n                  {(loggedInUserId === user_id && <button onClick={() => setDisplayEdit(true)}>Edit</button>) || (\n                    <>\n                      <Link to={{ pathname: `/messages/${loggedInUserId}-${user_id}`, state: { userName: name } }} className=\"block\">\n                        <i className=\"far fa-envelope\"></i>\n                      </Link>\n                      <button onClick={() => followUserA(user_id)}>{!followStatus || followStatus === '0' ? 'Follow' : 'Unfollow'}</button>\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n            <div className=\"profile-actions\">\n              <Link to=\"\">Tweets</Link>\n              <Link to=\"\">Tweets & replies</Link>\n              <Link to=\"\">Media</Link>\n              <Link to=\"\">Likes</Link>\n            </div>\n          </div>\n\n          <WithObserverListRedux cb={onScrollHandler.bind(this, user_id)}>\n            <TweetList tweets={tweets} />\n          </WithObserverListRedux>\n        </div>\n      );\n    }\n  };\n\n  return (\n    <div style={{ gridTemplateColumns: '220px 600px 1fr', display: 'grid' }} className=\"container profile\">\n      <Nav />\n      <div>{renderContent()}</div>\n      <div className=\"right\">\n        <SearchBar />\n        <FollowSuggestionList />\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({\n  profile: { details, tweets },\n  auth: {\n    user: { user_id },\n  },\n}) => ({\n  details,\n  tweets,\n  followStatus: details.followStatus,\n  loggedInUserId: user_id,\n});\n\nexport default connect(mapStateToProps, { followUserA, fetchProfileDataA, fetchProfileTweetsA, clearProfileA })(Profile);\n","import React from 'react';\nimport dayjs from 'dayjs';\nimport { connect } from 'react-redux';\nimport { createUrl } from './urlHelper';\nimport { Link } from 'react-router-dom';\nimport { stringCutter } from '../../helpers/stringCutter';\nimport { selectChatA } from '../../store/actions/chat/selectChat';\nimport ProfileImage from '../../components/utils/ProfileImage';\n\nconst Userbox = ({ chat: { conversation_id, body, message_sent, users, type }, loggedInUser, selectedConvId }) => {\n  const memberString = stringCutter(users.map((user, index) => user.name).join(', '), 23, true);\n\n  const cUrl = createUrl(loggedInUser, users, type) || conversation_id;\n\n  return (\n    <Link to={`/messages/${cUrl}`} className={`chatList-box ${cUrl === selectedConvId ? 'selected' : ''}`} id={conversation_id}>\n      <div className=\"chatList-box-image-wrapper\">\n        <ProfileImage user_id={users[0].user_id} />\n      </div>\n      <div className=\"chatList-box-left\">\n        <div className=\"chatList-box-header\">\n          <p className=\"chatList-box-header-members\">{memberString}</p>\n          <p className=\"chatList-box-header-date\">{message_sent && dayjs(message_sent).format('MMM D')}</p>\n        </div>\n        <p className=\"chatList-box-body\">{(body && stringCutter(body, 23, true)) || ''}</p>\n      </div>\n    </Link>\n  );\n};\n\nconst mapStateToProps = ({\n  auth: {\n    user: { user_id },\n  },\n  chatList: { selectedConvId },\n}) => ({\n  loggedInUser: user_id,\n  selectedConvId,\n});\n\nexport default connect(mapStateToProps, { selectChatA })(Userbox);\n","export const createUrl = (loggedUserId, usersArr, type) => {\n  if (type === '0') {\n    return `${loggedUserId}-${usersArr[0].user_id}`;\n  }\n};\n","import React, { useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { fetchChatListA } from '../../store/actions/chat/fetchChatList';\nimport { clearChatListA } from '../../store/actions/chat/clearChatList';\nimport Userbox from './Userbox';\n\nconst ChatList = ({ chatList, fetchChatListA, clearChatListA, loggedInUserId }) => {\n  const history = useHistory();\n  useEffect(() => {\n    fetchChatListA();\n    return () => clearChatListA();\n  }, [fetchChatListA, clearChatListA]);\n\n  useEffect(() => {\n    // if (chatList.chatList.length > 0 && chatList.selectedConvId === '0') {\n    //   const chatType = chatList.chatList[0].type;\n    //   if (chatType === 0) {\n    //     history.push(`/messages/${loggedInUserId}-${chatList.chatList[0].users[0].user_id}`);\n    //   } else {\n    //     const messageUrl = chatType === '0' ? `${loggedInUserId}-${chatList.chatList[0].users[0].user_id}` : chatList[0].conversation_id;\n    //     history.push(`/messages/${messageUrl}`);\n    //   }\n    // } else {\n    //   // not quite sure what has to go on in here yet tbh\n    // }\n  }, [chatList.chatList, history]);\n\n  const renderChatList = chatList.chatList.map((chat) => <Userbox chat={chat} key={chat.conversation_id} />);\n\n  return (\n    <div>\n      <div>{renderChatList}</div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({\n  chatList,\n  auth: {\n    user: { user_id },\n  },\n}) => ({\n  chatList,\n  loggedInUserId: user_id,\n});\n\nexport default connect(mapStateToProps, { fetchChatListA, clearChatListA })(ChatList);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport ProfileImage from '../utils/ProfileImage';\nimport dayjs from 'dayjs';\nconst Message = ({ message: { message_id, body, user_id, created_at }, self }) => {\n  return (\n    <div className={`message ${self ? 'self' : ''}`} id={message_id}>\n      {!self && (\n        <Link to={`/profile/${user_id}`}>\n          <ProfileImage user_id={user_id} />\n        </Link>\n      )}\n      <div className=\"message-right\">\n        <p className=\"message-right-text\">{body}</p>\n        <p className=\"message-sent\">{dayjs(created_at).format('MMM D h:mm A')}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Message;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport Message from './Message';\n\nconst MessagesList = ({ messages, loggedInUserId }) => {\n  const listRef = useRef(null);\n\n  useEffect(() => {\n    listRef.current.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const renderMessages = () => {\n    return messages.map((message) => <Message message={message} self={message.user_id === loggedInUserId} key={message.message_id} />);\n  };\n  return (\n    <>\n      <div id=\"testink\">{renderMessages()}</div>\n      <div ref={listRef}></div>\n    </>\n  );\n};\n\nconst mapStateToProps = ({ chatRoom: { messages } }) => {\n  return {\n    messages,\n  };\n};\n\nexport default connect(mapStateToProps)(MessagesList);\n","import { useEffect, useRef } from 'react';\n\nconst usePrevious = (value, init) => {\n  const ref = useRef(init);\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nexport default usePrevious;\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { searchMessagesA } from '../../store/actions/chat/searchMessage';\nimport usePrevious from '../hooks/usePrevious';\nimport { fetchChatMessagesOnlyA } from '../../store/actions/chat/fetchChatRoom';\n\nconst ChatSearch = ({ convId, messageList, searchMessagesA, fetchChatMessagesOnlyA }) => {\n  const [search, setSearch] = useState('');\n  const prevSearch = usePrevious(search, '');\n  const handleChange = (e) => {\n    if (!convId || convId === '0') return;\n    setSearch(e.target.value);\n  };\n\n  useEffect(() => {\n    const searchTimeout = setTimeout(() => {\n      if (search.length > 0) {\n        searchMessagesA(search, convId);\n      } else if (search.length === 0 && prevSearch.length === 1) {\n        fetchChatMessagesOnlyA();\n      }\n    }, 500);\n\n    return () => clearTimeout(searchTimeout);\n  }, [search]);\n\n  return (\n    <div>\n      <input type=\"text\" placeholder=\"Search messages\" value={search} onChange={handleChange}></input>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ chatRoom }) => {\n  return {\n    messageList: chatRoom.messages,\n  };\n};\n\nexport default connect(mapStateToProps, { searchMessagesA, fetchChatMessagesOnlyA })(ChatSearch);\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { fetchChatRoomA } from '../../store/actions/chat/fetchChatRoom';\nimport { clearChatRoomA } from '../../store/actions/chat/clearChatRoom';\nimport { sendMessageA } from '../../store/actions/chat/sendMessage';\nimport { createConversationA } from '../../store/actions/chat/createConversation';\nimport { pushMessageA } from '../../store/actions/chat/pushMessage';\nimport MessagesList from './MessagesList';\nimport ChatSearch from './ChatSearch';\n\nconst Chat = ({\n  fetchChatRoomA,\n  chatRoom,\n  clearChatRoomA,\n  selectedConvId,\n  loggedInUserId,\n  sendMessageA,\n  newChatName,\n  createConversationA,\n  pushMessageA,\n}) => {\n  const chatRoomRef = useRef(null);\n  const [body, setBody] = useState('');\n  const params = useParams();\n  const ws = useRef();\n\n  useEffect(() => {\n    if (chatRoom.validated) {\n      ws.current = new WebSocket(`ws://localhost:3001?convId=${chatRoom.validated}`);\n      ws.current.onopen = function (ev) {\n        ws.current.addEventListener('message', (event) => {\n          pushMessageA(JSON.parse(event.data));\n        });\n      };\n    }\n    return () => {\n      if (ws.current) {\n        ws.current.close();\n      }\n    };\n  }, [chatRoom.validated]);\n\n  useEffect(() => {\n    fetchChatRoomA();\n\n    return () => {\n      clearChatRoomA();\n    };\n  }, [selectedConvId]);\n\n  const onSubmitHandler = async () => {\n    if (!chatRoom.validated) {\n      await createConversationA(selectedConvId.split('-')[1], newChatName);\n    }\n    const id = await sendMessageA(body);\n    if (ws.current && ws.current.readyState === WebSocket.OPEN) {\n      ws.current.send(\n        JSON.stringify({\n          body,\n          user_id: loggedInUserId,\n          created_at: new Date(),\n          message_id: id,\n        })\n      );\n    }\n    setBody('');\n  };\n\n  const renderUsers = () => {\n    if (chatRoom.users.length > 0) {\n      return chatRoom.users.map((user) => user.name).join(', ');\n    } else if (newChatName) {\n      return newChatName;\n    } else if (!params.hasOwnProperty('conversationId')) {\n      return 'No selected chat';\n    } else {\n      return 'Unknown';\n    }\n  };\n\n  return (\n    <div className=\"chat\">\n      <div className=\"chat-header\">\n        <h3>{renderUsers()}</h3>\n        <ChatSearch convId={chatRoom.validated} />\n      </div>\n      <div className=\"chat-room\" ref={chatRoomRef}>\n        <MessagesList loggedInUserId={loggedInUserId} />\n      </div>\n      <div className=\"chat-form\">\n        <input type=\"text\" placeholder=\"Type a message\" value={body} onChange={(e) => setBody(e.target.value)}></input>\n        <button className=\"chat-form-button\" onClick={onSubmitHandler}>\n          Send!\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ chatList, chatRoom, auth }) => ({\n  loggedInUserId: auth.user.user_id,\n  selectedConvId: chatList.selectedConvId,\n  chatRoom,\n});\n\nexport default connect(mapStateToProps, { fetchChatRoomA, clearChatRoomA, sendMessageA, createConversationA, pushMessageA })(Chat);\n\n// const onSubmitHandler = () => {\n//   const obj = {\n//     message_id: '',\n//     body: '',\n//     sender_fk: '',\n//     receiver_fk: '',\n//     conversation_fk: '',\n//     user_id: '',\n//     fullName: '',\n//     sentAt: '',\n//   };\n// };\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Nav from '../components/global/Nav';\nimport ChatList from '../components/chat/ChatList';\nimport Chat from '../components/chat/Chat';\nimport { selectChatA } from '../store/actions/chat/selectChat';\nimport { appendUserA } from '../store/actions/chat/appendUser';\n\nclass Messages extends React.Component {\n  componentDidMount() {\n    this.props.selectChatA(this.props.match.params.conversationId);\n  }\n  componentDidUpdate() {\n    this.props.selectChatA(this.props.match.params.conversationId);\n  }\n\n  render() {\n    return (\n      <div style={{ gridTemplateColumns: '220px 350px 2fr', display: 'grid' }} className=\"container chat-page\">\n        <Nav />\n        <div className=\"messages\">\n          <div className=\"messages-header\">\n            <h1>Messages</h1>\n            <button>\n              <i className=\"far fa-envelope\"></i>\n            </button>\n          </div>\n          <div className=\"messages-search\">\n            <div>\n              <i className=\"fas fa-search\"></i>\n              <input type=\"text\" placeholder=\"Does not work\"></input>\n            </div>\n          </div>\n          <div className=\"messages-chat\">\n            <ChatList />\n          </div>\n        </div>\n        <div className=\"right\">\n          <Chat\n            newChatName={this.props.location.state ? this.props.location.state.userName : ''}\n            newChatUserId={this.props.location.state ? this.props.location.state.user_id : ''}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  selectedConvId: state.chatList.selectedConvId,\n});\n\nexport default connect(mapStateToProps, { selectChatA, appendUserA })(Messages);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport dayjs from 'dayjs';\nimport { deleteCommentA } from '../store/actions/tweets/deleteComment';\nimport ProfileImage from './utils/ProfileImage';\nconst Comment = ({\n  comment: { comment_id, commenter_id, body, createdAt, name, followerCount, followingCount },\n  user_id,\n  deleteCommentA,\n}) => {\n  const onDeleteHandler = () => {\n    return deleteCommentA(comment_id);\n  };\n\n  return (\n    <div id={comment_id} className=\"comment\">\n      <ProfileImage user_id={commenter_id} />\n      <div className=\"comment-right\">\n        <div id={commenter_id}>\n          <div>\n            <p className=\"comment-profile-name\">{name}</p>\n            <p className=\"comment-date\">{dayjs(createdAt).format('MMM D')}</p>\n          </div>\n          {commenter_id === user_id && (\n            <button style={{ color: 'rgb(101, 119, 134)', marginLeft: '10px' }} onClick={onDeleteHandler}>\n              <i className=\"fas fa-trash-alt\"></i>\n            </button>\n          )}\n        </div>\n        <p>{body}</p>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({\n  auth: {\n    user: { user_id },\n  },\n}) => ({\n  user_id,\n});\n\nexport default connect(mapStateToProps, { deleteCommentA })(Comment);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport Nav from '../components/global/Nav';\nimport Tweet from '../components/Tweet';\nimport Comment from '../components/Comment';\nimport { fetchTweetA } from '../store/actions/tweets/fetchTweet';\nimport { notEmptyObjChecker } from '../helpers/notEmptyObjChecker';\nimport BackButton from '../components/global/BackButton';\n\nconst Status = ({ status, fetchTweetA }) => {\n  const params = useParams();\n\n  useEffect(() => {\n    fetchTweetA(params.tweetId);\n  }, []);\n\n  let comments = [];\n  if (status.hasOwnProperty('comments')) {\n    comments = status.comments.map((comment) => <Comment comment={comment} key={comment.comment_id} />);\n  }\n\n  return (\n    <div style={{ gridTemplateColumns: '220px 600px 1fr', display: 'grid' }} className=\"container status\">\n      <Nav />\n      <div>\n        <div className=\"mid-top\">\n          <BackButton />\n          <h1>Tweet</h1>\n        </div>\n        <div>\n          {(notEmptyObjChecker(status) && (\n            <>\n              <Tweet tweet={status} />\n              {comments}\n            </>\n          )) || <p>Loading tweet...</p>}\n        </div>\n      </div>\n      <div className=\"right\"></div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ status }) => ({\n  status,\n});\n\nexport default connect(mapStateToProps, { fetchTweetA })(Status);\n","export const notEmptyObjChecker = (obj) => {\n  const keys = Object.keys(obj);\n  return keys.length > 0;\n};\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport ProfileImage from '../utils/ProfileImage';\n\nconst UserBox = ({ item: { user_id, name, description, follow_status } }) => {\n  const [status, setStatus] = useState(parseInt(follow_status));\n\n  const onFollowHandler = async () => {\n    const form = new FormData();\n    form.append('userToFollowId', user_id);\n    const res = await fetch(`/api/follow-user.php`, {\n      method: 'POST',\n      body: form,\n    });\n    if (!res.ok) return console.log(await res.text());\n    setStatus(!status);\n  };\n\n  return (\n    <div className=\"followers-list-user-box\">\n      <ProfileImage user_id={user_id} classNames=\"profile-img\" />\n      <div className=\"followers-list-user-box-right\">\n        <div>\n          <Link to={`/profile/${user_id}`}>{name}</Link>\n          {description && <p>{description}</p>}\n        </div>\n        <button onClick={onFollowHandler} className={status ? 'following' : 'follow'}>\n          {status ? 'Following' : 'Follow'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default UserBox;\n","import React from 'react';\nimport UserBox from './UserBox';\n\nconst FollowList = ({ list }) => {\n  const renderUsers = list.map((item) => <UserBox item={item} key={item.user_id} />);\n  return <div>{renderUsers}</div>;\n};\n\nexport default FollowList;\n","import React from 'react';\n\nclass FollowList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.listBottom = React.createRef();\n  }\n\n  state = {\n    skip: 0,\n    list: [],\n    bottom: false,\n  };\n\n  componentDidMount() {\n    fetch(this.props.api).then((data) => {\n      data.json().then((list) => {\n        this.setState({ list, skip: this.state.skip + 10 }, () => {\n          if (this.state.list.length >= 10) {\n            let options = {\n              rootMargin: '100px',\n            };\n            let observer = new IntersectionObserver((entries) => {\n              entries.forEach(async (entry) => {\n                if (entry.isIntersecting) {\n                  const res = await fetch(`${this.props.api}&skip=${this.state.skip}`);\n                  if (!res.ok) return console.log(await res.text());\n                  const list = await res.json();\n                  if (list.length > 0) {\n                    this.setState({ list: [...this.state.list, ...list], skip: this.state.skip + 10 });\n                  } else {\n                    this.setState({ bottom: true });\n                    observer.unobserve(this.listBottom.current);\n                  }\n                }\n              });\n            }, options);\n            observer.observe(this.listBottom.current);\n          }\n        });\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"follow-list-list\" style={{ borderRight: '1px solid #e9e9e9' }}>\n        {(this.state.list.length > 0 && this.props.render(this.state.list)) || <p className=\"no-users-found\">No items found</p>}\n        <div ref={this.listBottom} style={{ padding: '10px' }}></div>\n      </div>\n    );\n  }\n}\n\nexport default FollowList;\n","import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { useParams, Link } from 'react-router-dom';\nimport Nav from '../components/global/Nav';\n\nimport FollowSuggestionList from '../components/global/FollowSuggestions';\nimport SearchBar from '../components/global/search/SearchBar';\nimport { postTweetA } from '../store/actions/tweets/postTweet';\nimport { fetchHomeTweetsA } from '../store/actions/tweets/fetchHomeTweets';\nimport FollowList from '../components/followers/FollowList';\nimport WithObserverListApi from '../components/global/withObserverListApi';\nimport BackButton from '../components/global/BackButton';\n\nconst Home = () => {\n  const params = useParams();\n  const [userName, setUserName] = useState('Loading');\n  const [urlParams, setUrlParams] = useState(params.followRelation);\n\n  useEffect(() => {\n    fetch(`/api/get-user-name.php?userId=${params.userId}`).then((data) => {\n      data.json().then(({ name }) => setUserName(name));\n    });\n  }, [params.userId, params.followRelation]);\n\n  useEffect(() => {\n    setUrlParams(params.followRelation);\n  }, [params.followRelation]);\n\n  return (\n    <div style={{ gridTemplateColumns: '220px 600px 1fr', display: 'grid' }} className=\"container\">\n      <Nav />\n      <div className=\"followers-list\">\n        <div className=\"followers-list-top\">\n          <div className=\"followers-list-top-head\">\n            <BackButton />\n            <h1>{userName}</h1>\n          </div>\n\n          <div className=\"followers-list-relations\">\n            <Link to={`/${params.userId}/following`} className={params.followRelation === 'following' ? 'active' : ''}>\n              Following\n            </Link>\n            <Link to={`/${params.userId}/followers`} className={params.followRelation === 'followers' ? 'active' : ''}>\n              Followers\n            </Link>\n          </div>\n        </div>\n        {urlParams === 'following' && (\n          <WithObserverListApi\n            api={`/api/get-${params.followRelation}.php?userId=${params.userId}`}\n            render={(list) => <FollowList list={list} />}\n          />\n        )}\n        {urlParams === 'followers' && (\n          <WithObserverListApi\n            api={`/api/get-${params.followRelation}.php?userId=${params.userId}`}\n            render={(list) => <FollowList list={list} />}\n          />\n        )}\n      </div>\n\n      <div className=\"right\">\n        <SearchBar />\n        <FollowSuggestionList />\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ homeTweets }) => ({\n  homeTweets,\n});\n\nexport default connect(mapStateToProps, { fetchHomeTweetsA, postTweetA })(Home);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Nav from '../components/global/Nav';\nimport BackButton from '../components/global/BackButton';\n\nconst Notifications = ({}) => {\n  useEffect(() => {}, []);\n\n  return (\n    <div style={{ gridTemplateColumns: '220px 600px 1fr', display: 'grid' }} className=\"container status\">\n      <Nav />\n      <div>\n        <div className=\"mid-top\">\n          <BackButton />\n          <h1>Notifications</h1>\n        </div>\n        <div>\n          <p>Mid</p>\n        </div>\n      </div>\n      <div className=\"right\">\n        <p>xxxx</p>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({}) => ({});\n\nexport default connect(mapStateToProps, {})(Notifications);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { loginA } from '../../store/actions/auth/login';\n\nclass Auth extends React.Component {\n  state = { loaded: false };\n  async componentDidMount() {\n    const res = await fetch(`/api/auto-login.php`);\n    if (res.ok) {\n      const data = await res.json();\n      this.props.loginA(data);\n    }\n    this.setState({ loaded: true });\n  }\n\n  render() {\n    return (this.state.loaded && this.props.children) || <p>Loading</p>;\n  }\n}\n\nexport default connect(null, { loginA })(Auth);\n","import React from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport './styles/app.scss';\nimport Index from './pages/Index';\nimport Home from './pages/Home';\nimport Profile from './pages/Profile';\nimport Messages from './pages/Messages';\nimport Status from './pages/Status';\nimport Followers from './pages/Followers';\nimport Notifications from './pages/Notifications';\nimport Auth from './components/global/Auth';\n\nconst App = ({ authorized }) => {\n  const openRoutes = () => (\n    <Switch>\n      <Route path=\"/\" exact component={Index}></Route>\n      <Redirect to=\"/\"></Redirect>\n    </Switch>\n  );\n\n  const closedRoutes = () => {\n    return (\n      <Switch>\n        <Route path=\"/home\" exact component={Home}></Route>\n        <Route path=\"/profile/:userId\" exact component={Profile}></Route>\n        <Route path=\"/messages\" exact component={Messages} />\n        <Route path=\"/messages/:conversationId\" exact component={Messages} />\n        <Route path=\"/status/:userId/:tweetId\" exact component={Status} />\n        <Route path=\"/:userId/:followRelation(followers|following)\" exact component={Followers} />\n        <Route path=\"/notifications\" exact component={Notifications} />\n        <Redirect to=\"/home\"></Redirect>\n      </Switch>\n    );\n  };\n\n  return (\n    <div>\n      <Auth>\n        <BrowserRouter>{authorized ? closedRoutes() : openRoutes()}</BrowserRouter>\n      </Auth>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ auth: { authorized } }) => ({\n  authorized,\n});\n\nexport default connect(mapStateToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './store/reducers/rootReducer';\nimport App from './App';\n\nexport const store = createStore(\n  rootReducer,\n  compose(applyMiddleware(thunk), window.devToolsExtension ? window.__REDUX_DEVTOOLS_EXTENSION__() : (f) => f)\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}